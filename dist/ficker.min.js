/**
 * @license
 * flicker.js - v0.1.0
 * Copyright (c) 2012-2014, Yuan Tao
 * 
 *
 * Compiled: 2015-04-04
 *
 * flicker.js is licensed under the MIT License.
 * 
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Flicker=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=a("./lib/flicker")},{"./lib/flicker":2}],2:[function(a,b,c){function d(a,b){var c,d;b=b||function(){};for(var e=0;e<a.length;e++){c=a[e];for(var f=0;8>f;f++)d=c>>f&1,b(d)}}function e(a){var b=0,c=0;return d(a,function(a){0==a?b++:c++}),c>b}function f(a,b,c){var e=1,f=2;c&&(e=2,f=1),d(a,function(a){b.reverse(0==a?e:f)})}var g=a("./serializer").Serializer,h=a("./hamming");c.encode=function(a){if(!a||"string"!=typeof a)return[];a=h.encode(a);var b=new g;b.write(0);for(var c=0;9>c;c++)b.reverse();var d=e(a);return b.reverse(6),b.reverse(d?10:6),f(a,b,d),b.reverse(6),b.reverse(2),b.buffer}},{"./hamming":3,"./serializer":4}],3:[function(a,b){function c(a){return!(a&a-1)&&a}function d(a,b){return a&128>>b}function e(a,b,c){var d=128>>b;return c?a|=d:a&=~d,a}function f(a,b,c,d){a[b]=e(a[b],c,d)}function g(a,b,c){for(var e=0,f=b-1;c>f;f+=2*b)for(var g=f;f+b>g&&c>g;g++)(f!=b-1||g!=f)&&d(a[g>>3],7&g)&&e++;return 1&e}var h=b.exports={};h.getBit=d,h.setBit=e,h.setBitForArray=f,h.getParityBit=g,h.encode=function(a){var b=0,e=a.length,h=[],i=[];if("string"==typeof a){for(var j=0;e>j;j++)i.push(a.charCodeAt(j));a=i}for(var j=0;e>j;j++)for(var k=0;8>k;k++)c(b+1)?k--:f(h,b>>3,7&b,d(a[j],k)),b++;var l=Math.ceil(b/8)<<3;console.log("full length of the packet: %d",l);for(var j=b;l>j;j++)f(h,j>>3,7&j,!1);for(var j=1;l>j;j<<=1)f(h,j-1>>3,j-1&7,g(h,j,l));return h},h.decode=function(a){for(var b=-1,e=a.length,h=[],i=1;8*e>i;i<<=1)d(a[i-1>>3],i-1&7)!=g(a,i,8*e)&&(0>b&&(b=0),b+=i);b>0&&(b-=1,f(a,b>>3,7&b,!d(a[b>>3],7&b)),console.log("fixed error at %d",b));for(var j=0,i=0;e>i;i++)for(var k=0;8>k;k++){var l=8*i+k;c(l+1)||(f(h,j>>3,7&j,d(a[i],k)),j++)}return h},h.getEncodedLength=function(a){return 31>a?a+1:a+2},h.getDecodedLength=function(a){return 33>a?a-1:a-2}},{}],4:[function(a,b,c){function d(){this.buffer=[],this.last=!1}c.Serializer=d,d.prototype.writeBit=function(a,b){this.last=1&a,b=b||1;for(var c=0;b>c;c++)this.buffer.push(this.last)},d.prototype.writeList=function(a,b){b=b||a.length,this.last=1&a[b-1];for(var c=0;c<a.length;c++)this.buffer.push(a[c])},d.prototype.write=function(a,b){a&&a.length>0?this.writeList(a,a.length):this.writeBit(a,b)},d.prototype.reverse=function(a){this.write(!this.last,a)}},{}]},{},[1])(1)});